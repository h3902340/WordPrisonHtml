{"version":3,"file":"main.js","mappings":"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","sources":["webpack:///./src/AudioTool.ts","webpack:///./src/Card.ts","webpack:///./src/GlobalSetting.ts","webpack:///./src/HintButton.ts","webpack:///./src/Inventory.ts","webpack:///./src/Level1/Level1.ts","webpack:///./src/Slot.ts","webpack:///./src/TypeDefinition.ts","webpack:///./src/TypeWriter.ts","webpack:///./src/Utility.ts","webpack:///./src/index.ts","webpack:///webpack/bootstrap","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///webpack/before-startup","webpack:///webpack/startup","webpack:///webpack/after-startup"],"sourcesContent":["export const applauseSound: string = \"applause\";\nexport const depthInRuinsMusic: string = \"Depth in Ruins\";\nexport const endingBassSound: string = \"ending_bass\";\nexport const keyboardSound: string = \"keyboard3\";\nexport const pickUpSound: string = \"pick up\";\nexport const putBackSound: string = \"put back\";\n\nexport function createAudio(audioName: string): HTMLAudioElement{\n    return new Audio(`audio/${audioName}.wav`);\n}","import { verb_color, noun_color, card_font_size, card_word_color, card_font, card_width_unit, card_height } from \"./GlobalSetting\";\nimport { CardDef, Position, Rect, verb } from \"./TypeDefinition\";\nimport { drawFilledRect, drawText } from \"./Utility\";\n\nexport class Card {\n    private readonly rect: Rect;\n    private readonly cardInfo: CardDef;\n\n    constructor(cardInfo: CardDef) {\n        // 卡片位置預設為(0,0)\n        this.rect = {\n            x: 0, y: 0,\n            w: card_width_unit * cardInfo.Word.length,\n            h: card_height\n        };\n        this.cardInfo = cardInfo;\n    }\n\n    public PlaceAt(position: Position): void {\n        this.rect.x = position.x;\n        this.rect.y = position.y;\n    }\n\n    public IsClickable(): boolean {\n        return true;\n    }\n\n    public GetRect(): Rect {\n        return this.rect;\n    }\n\n    public GetCardID(): number {\n        return this.cardInfo.ID;\n    }\n\n    public GetPartOfSpeech(): string {\n        return this.cardInfo.PartOfSpeech;\n    }\n\n    public drawCard(): void {\n        if (this.cardInfo.PartOfSpeech == verb) {\n            drawFilledRect(this.rect, verb_color);\n        } else {\n            drawFilledRect(this.rect, noun_color);\n        }\n\n        drawText(this.cardInfo.Word, {\n            x: this.rect.x + (this.rect.w - card_font_size * this.cardInfo.Word.length) * .5,\n            // 根據這個公式，詞卡文字沒有剛好置中，需要微調\n            y: this.rect.y + (this.rect.h + card_font_size) * .5 - 5\n        }, card_word_color, card_font, card_font_size);\n    }\n}","// 名詞顏色\nexport const noun_color = \"#FC9B45\";\n// 動詞顏色\nexport const verb_color = \"#51A6FF\";\n// 卡片欄的背景\nexport const inventory_background_color = \"#BEBEBE\";\n// 詞卡的寬度單位。詞卡有n個字，則詞卡寬度為n * card_width_unit\nexport const card_width_unit = 70;\n// 詞卡的高度\nexport const card_height = 70;\n\n// 對話框的文字顏色\nexport const dialogue_color = \"#FFFFFF\";\n// 對話框的文字字體\nexport const dialogue_font = \"Arial\";\n// 對話框的文字大小\nexport const dialogue_font_size = 30;\n\n// 詞卡的文字顏色\nexport const card_word_color = \"#FFFFFF\";\n// 詞卡的文字字體\nexport const card_font = \"Arial\";\n// 詞卡的文字大小\nexport const card_font_size = 40;\n\n// 對話框的打字間隔，單位是ms\nexport const type_interval = 20;\n// 遊戲畫面解析度\nexport const referenceScreenWidth: number = 800;\nexport const referenceScreenHeight: number = 600;","import { ctx } from '.';\nimport { IClickable, Position, Rect } from './TypeDefinition';\nimport { isInside } from './Utility';\n\nexport class HintButton implements IClickable {\n    private readonly rect: Rect;\n    private readonly hintImageName: string = \"image/hint_icon.png\";\n\n    constructor(rect: Rect) {\n        this.rect = rect;\n    }\n\n    public CheckIfHit(mousePos: Position): boolean {\n        return isInside(mousePos, this.rect);\n    }\n\n    public Draw(): void {\n        let hintImage: CanvasImageSource = new Image();\n        hintImage.src = this.hintImageName;\n        hintImage.addEventListener(\n            \"load\",\n            () => {\n                ctx.drawImage(hintImage, this.rect.x, this.rect.y, this.rect.w, this.rect.h);\n            },\n            false\n        );\n    }\n}","import { card_height, inventory_background_color } from \"./GlobalSetting\";\nimport { IClickable, Position, Rect } from \"./TypeDefinition\";\nimport { clearRect, drawFilledRect, isInside } from \"./Utility\";\nimport { Card } from './Card';\n\nexport class Inventory implements IClickable {\n    private cardArray: { card: Card, originalPos: Position, isRemoved: boolean }[] = [];\n    private readonly rect: Rect;\n    private readonly padding: number;\n    private currentTail: Position;\n\n    constructor(rect: Rect, padding: number) {\n        this.rect = rect;\n        this.padding = padding;\n        this.currentTail = {\n            x: rect.x + padding,\n            y: rect.y + padding\n        };\n    }\n\n    public CheckIfHit(mousePos: Position): boolean {\n        return isInside(mousePos, this.rect);\n    }\n\n    public CheckIfHitCard(mousePos: Position): Card {\n        for (let i = 0; i < this.cardArray.length; i++) {\n            if (this.cardArray[i].isRemoved) continue;\n            if (isInside(mousePos, this.cardArray[i].card.GetRect())) {\n                return this.cardArray[i].card;\n            }\n        }\n        return null;\n    }\n\n    public drawInventory(): void {\n        clearRect(this.rect);\n        drawFilledRect(this.rect, inventory_background_color)\n        for (let i = 0; i < this.cardArray.length; i++) {\n            if (this.cardArray[i].isRemoved) continue;\n            this.cardArray[i].card.drawCard();\n        }\n    }\n\n    public AddCard(card: Card): void {\n        // 如果已經在cardArray內，表示已經加過，只是被移走。這時把card設回原本位置。\n        for (let i = 0; i < this.cardArray.length; i++) {\n            if (this.cardArray[i].card != card) continue;\n            this.cardArray[i].isRemoved = false;\n            this.cardArray[i].card.PlaceAt(this.cardArray[i].originalPos);\n            return;\n        }\n\n        // 如果card是新的，則將位置設在最後。\n        let nextTailX = this.currentTail.x + this.padding + card.GetRect().w;\n        if (nextTailX > this.rect.x + this.rect.w) {\n            this.currentTail.y += this.padding + card_height;\n            this.currentTail.x = this.rect.x + this.padding;\n        }\n\n        let cardPosition: Position = {\n            x: this.currentTail.x,\n            y: this.currentTail.y\n        };\n        this.cardArray.push({\n            card: card,\n            originalPos: cardPosition,\n            isRemoved: false\n        });\n        card.PlaceAt(cardPosition);\n\n        this.currentTail.x += card.GetRect().w + this.padding;\n    }\n\n    public RemoveCard(card: Card): Card {\n        for (let i = 0; i < this.cardArray.length; i++) {\n            if (this.cardArray[i].card != card) continue;\n            this.cardArray[i].isRemoved = true;\n            return card;\n        }\n        return null;\n    }\n}","import { Inventory } from \"../Inventory\";\nimport { TypeWriter } from \"../TypeWriter\";\nimport { CardDef, DialogueDef, FallbackDef, HintDef, HintValue, IClickable, ILevel, Position, SentenceDef, noun, verb } from \"../TypeDefinition\";\nimport { Slot } from \"../Slot\";\nimport cardTableJson from './CardTable.json';\nimport dialogueTableJson from './DialogueTable.json';\nimport sentenceTableJson from './SentenceTable.json';\nimport fallbackTableJson from './FallbackTable.json';\nimport stateInitTableJson from './StateInitTable.json';\nimport hintTableJson from './HintTable.json';\nimport { applauseSound, createAudio, depthInRuinsMusic, endingBassSound, keyboardSound, pickUpSound, putBackSound } from \"../AudioTool\";\nimport { card_height, card_width_unit, referenceScreenHeight, referenceScreenWidth } from \"../GlobalSetting\";\nimport { Card } from \"../Card\";\nimport { HintButton } from '../HintButton'\n\nexport class Level1 implements ILevel {\n    private readonly inventory: Inventory;\n    private readonly slotArray: Slot[];\n    private readonly typeWriter: TypeWriter;\n    private readonly cardTable = new Map<number, CardDef>();\n    private readonly sentenceTable: SentenceDef[];\n    private readonly fallbackTable: FallbackDef[];\n    private readonly hintTable: Map<number, HintValue>;\n    private readonly dialogueTable = new Map<number, string>();\n    private readonly stateInitTable: { [k: string]: any }[];\n    private isSaying: boolean = false;\n    private isTheEnd: boolean = false;\n    private musicAudio: HTMLAudioElement;\n    private keybaordAudio: HTMLAudioElement;\n    private goodEndingAudio: HTMLAudioElement;\n    private badEndingAudio: HTMLAudioElement;\n    private pickupAudioArray: HTMLAudioElement[];\n    private putbackAudioArray: HTMLAudioElement[];\n    private clickableArray: IClickable[] = [];\n    private hintButton: HintButton;\n    private currentHintArray: HintValue[] = [];\n    private currentHintIndex: number = 0;\n\n    constructor() {\n        let cardPadding: number = 10;\n        let slotPadding: number = 20;\n        let slotInventoryPadding: number = 10;\n        let typeWriterSlotPadding: number = 10;\n        let inventoryHeight: number = card_height * 3 + cardPadding * 4;\n        let inventoryBottomPadding: number = 20;\n        let slotWidth: number = card_width_unit * 3;\n        let slotHeight: number = card_height;\n        let slotStartY: number = referenceScreenHeight - inventoryBottomPadding - inventoryHeight - slotInventoryPadding - slotHeight;\n        let slotStartX: number = (referenceScreenWidth - slotWidth * 3 - slotPadding * 2) * .5;\n        let typeWriterExtend: number = -20;\n        let typeWriterTopPadding: number = 50;\n        let inventorySidePadding: number = 15;\n\n        this.slotArray = [\n            new Slot({ x: slotStartX, y: slotStartY, w: slotWidth, h: slotHeight, }, noun, null),\n            new Slot({ x: slotStartX + slotWidth + slotPadding, y: slotStartY, w: slotWidth, h: slotHeight }, verb, null),\n            new Slot({ x: slotStartX + slotWidth * 2 + slotPadding * 2, y: slotStartY, w: slotWidth, h: slotHeight }, noun, null)\n        ];\n\n        this.inventory = new Inventory({\n            x: inventorySidePadding, y: slotStartY + slotHeight + slotInventoryPadding,\n            w: referenceScreenWidth - inventorySidePadding * 2, h: referenceScreenHeight - slotStartY - slotHeight - slotInventoryPadding - inventoryBottomPadding\n        }, 10);\n\n        this.clickableArray.push(this.inventory, this.slotArray[0], this.slotArray[1], this.slotArray[2]);\n\n        this.typeWriter = new TypeWriter({\n            x: slotStartX - typeWriterExtend, y: typeWriterTopPadding,\n            w: referenceScreenWidth - slotStartX * 2 + typeWriterExtend * 2, h: slotStartY - typeWriterSlotPadding - typeWriterTopPadding\n        }, 5);\n\n        let hintPadding: number = 10;\n        let hintWidth: number = 70;\n        this.hintButton = new HintButton({\n            x: referenceScreenWidth - hintPadding - hintWidth,\n            y: hintPadding,\n            w: hintWidth,\n            h: hintWidth\n        });\n\n        this.clickableArray.push(this.hintButton);\n        this.hintButton.Draw();\n\n        let cardTableRaw: CardDef[] = cardTableJson as CardDef[];\n\n        cardTableRaw.forEach(card => {\n            this.cardTable.set(card.ID, card);\n        });\n\n        this.sentenceTable = sentenceTableJson as SentenceDef[];\n        this.fallbackTable = fallbackTableJson as FallbackDef[];\n\n        this.hintTable = new Map<number, HintValue>();\n        let hintTableRaw: HintDef[] = hintTableJson as HintDef[];\n        for (let i = 0; i < hintTableRaw.length; i++) {\n            this.hintTable.set(hintTableRaw[i].HintID, {\n                Hint: hintTableRaw[i].Hint,\n                Condition: hintTableJson[i].Condition,\n                NextHintID: hintTableRaw[i].NextHintID\n            });\n        }\n        this.currentHintArray.push(this.hintTable.get(0));\n\n        let dialogueTableRaw: DialogueDef[] = dialogueTableJson as DialogueDef[];\n        dialogueTableRaw.forEach(dialogue => {\n            this.dialogueTable.set(dialogue.ID, dialogue.Dialogue);\n        });\n\n        this.stateInitTable = stateInitTableJson as { [k: string]: any }[];\n\n        for (let i = 0; i < this.stateInitTable.length; i++) {\n            new Function(this.stateInitTable[i][\"StateName\"] + \"=\" +\n                this.stateInitTable[i][\"StateInit\"])();\n        }\n\n        this.musicAudio = createAudio(depthInRuinsMusic);\n        this.keybaordAudio = createAudio(keyboardSound);\n        this.goodEndingAudio = createAudio(applauseSound);\n        this.badEndingAudio = createAudio(endingBassSound);\n        this.pickupAudioArray = [\n            createAudio(pickUpSound),\n            createAudio(pickUpSound),\n            createAudio(pickUpSound)\n        ];\n\n        this.putbackAudioArray = [\n            createAudio(putBackSound),\n            createAudio(putBackSound),\n            createAudio(putBackSound)\n        ];\n\n        this.musicAudio.loop = true;\n        this.keybaordAudio.loop = true;\n    }\n\n    public begin(): void {\n        this.entrySequence();\n    }\n\n    private async entrySequence(): Promise<void> {\n        for (let i = 0; i < this.slotArray.length; i++) {\n            this.slotArray[i].drawSlot();\n        }\n        this.inventory.drawInventory();\n        await this.SayDialogueWithoutSound(this.dialogueTable.get(0));\n        this.inventory.AddCard(new Card(this.cardTable.get(2)));\n        this.inventory.AddCard(new Card(this.cardTable.get(0)));\n        this.inventory.AddCard(new Card(this.cardTable.get(1)));\n        this.inventory.drawInventory();\n    }\n\n    public onCanvasClick(mousePos: Position): void {\n        // 遊戲結束時阻擋點擊。\n        if (this.isTheEnd) return;\n        // 說話時不接受點擊。\n        if (this.isSaying) return;\n\n        // 檢查是否有播放BGM。網頁如果按上一頁，再按下一頁，會導致音樂被暫停，但flag不會重設。所以這裡不能用flag來判斷，要用是否paused判斷。\n        if (this.musicAudio.paused) {\n            this.musicAudio.play();\n        }\n\n        let hitClickable: IClickable = null;\n        for (let i = 0; i < this.clickableArray.length; i++) {\n            if (!this.clickableArray[i].CheckIfHit(mousePos)) continue;\n            hitClickable = this.clickableArray[i];\n            break;\n        }\n\n        if (!hitClickable) return;\n\n        if (hitClickable instanceof HintButton) {\n            this.ShowHint();\n            return;\n        }\n\n        // 如果點到slot，並且該slot有card，則把card退回至inventory\n        if (hitClickable instanceof Slot) {\n            if (!hitClickable.HasCard()) return;\n            let card: Card = hitClickable.RemoveCard();\n            this.inventory.AddCard(card);\n            hitClickable.drawSlot();\n            this.inventory.drawInventory();\n            this.pickupAudioArray[this.slotArray.indexOf(hitClickable)].play();\n            return;\n        }\n\n        // 如果輸入框已經滿了。就不再檢查造句。\n        if (this.isSlotFull()) return;\n\n        //如果有點到inventory，則檢查是否有點到裡面的card\n        if (hitClickable == this.inventory) {\n            let card: Card = this.inventory.CheckIfHitCard(mousePos);\n            // 沒有點到inventory，則return\n            if (!card) return;\n\n            // 尋找一個空的slot輸入。\n            for (let i = 0; i < this.slotArray.length; i++) {\n                let slot = this.slotArray[i];\n                if (!slot.IsPartOfSpeechEqual(card.GetPartOfSpeech())) continue;\n                if (!slot.IsCardEqual(null)) continue;\n                this.inventory.RemoveCard(card);\n                slot.AddCard(card);\n                slot.drawSlot();\n                this.inventory.drawInventory();\n                this.putbackAudioArray[i].play();\n                break;\n            }\n        }\n\n        // 輸入完後檢查造句。如果三個輸入框還沒滿，則return\n        if (!this.isSlotFull()) return;\n        // 先檢查是否滿足fallback條件\n        for (let i = 0; i < this.fallbackTable.length; i++) {\n            let fallback: FallbackDef = this.fallbackTable[i];\n            if (!this.isFallbackMatch(fallback)) continue;\n            if (!this.runLogicalExpression(fallback.Condition)) continue;\n\n            this.SayDialogue(this.dialogueTable.get(fallback.FallbackDialogueID));\n            return;\n        }\n\n        for (let i = 0; i < this.sentenceTable.length; i++) {\n            let sentence: SentenceDef = this.sentenceTable[i];\n            if (!this.isSentenceMatch(sentence)) continue;\n            if (!this.runLogicalExpression(sentence.Condition)) continue;\n\n            this.SayDialogue(this.dialogueTable.get(sentence.DialogueID)).then(() => {\n                this.CheckNewCard(sentence);\n                if (!sentence.Consequence) return;\n\n                Function(`\"use strict\";${sentence.Consequence}`)();\n                // 檢查是否已經遊戲結束。\n                if (Function(\"return EndState != null\")()) {\n                    this.isTheEnd = true;\n                    if (Function(\"return EndState == 'Good'\")()) {\n                        this.goodEndingAudio.play();\n                    } else if (Function(\"return EndState == 'Bad'\")()) {\n                        this.badEndingAudio.play();\n                    }\n                }\n\n                // 更新提示\n                let removedHintArray: HintValue[];\n                do{\n                    removedHintArray = [];\n                    for (let i = this.currentHintArray.length - 1; i >= 0; i--) {\n                        if (this.runLogicalExpression(this.currentHintArray[i].Condition)) continue;\n                        removedHintArray = removedHintArray.concat(this.currentHintArray.splice(i, 1));\n                    }\n    \n                    for (let i = 0; i < removedHintArray.length; i++) {\n                        if (!removedHintArray[i].NextHintID) continue;\n                        for (let j = 0; j < removedHintArray[i].NextHintID.length; j++) {\n                            let hint: HintValue = this.hintTable.get(removedHintArray[i].NextHintID[j]);\n                            if (this.currentHintArray.indexOf(hint) != -1) continue;\n                            this.currentHintArray.push(hint);\n                        }\n                    }\n                }\n                while(removedHintArray.length != 0)\n                this.currentHintIndex = 0;\n            });\n            break;\n        }\n    }\n\n    private ShowHint(): void {\n        if (this.currentHintArray.length == 0) return;\n        this.SayDialogue(`提示：${this.currentHintArray[this.currentHintIndex].Hint}`);\n        if (this.currentHintIndex >= this.currentHintArray.length - 1) {\n            this.currentHintIndex = 0;\n        } else {\n            this.currentHintIndex++;\n        }\n    }\n\n    private isSlotFull(): boolean {\n        return this.slotArray[0].HasCard() &&\n            this.slotArray[1].HasCard() &&\n            this.slotArray[2].HasCard();\n    }\n\n    private isSentenceMatch(sentence: { CardID1: number, CardID2: number, CardID3: number }): boolean {\n        return sentence.CardID1 == this.slotArray[0].GetCardID() &&\n            sentence.CardID2 == this.slotArray[1].GetCardID() &&\n            sentence.CardID3 == this.slotArray[2].GetCardID();\n    }\n\n    private isFallbackMatch(sentence: { CardID1: number, CardID2: number, CardID3: number }): boolean {\n        return (!sentence.CardID1 || sentence.CardID1 == this.slotArray[0].GetCardID()) &&\n            (!sentence.CardID2 || sentence.CardID2 == this.slotArray[1].GetCardID()) &&\n            (!sentence.CardID3 || sentence.CardID3 == this.slotArray[2].GetCardID());\n    }\n\n    private async SayDialogue(dialogue: string): Promise<void> {\n        this.isSaying = true;\n        this.keybaordAudio.play();\n        await this.typeWriter.say(dialogue);\n        this.keybaordAudio.pause();\n        this.isSaying = false;\n    }\n\n    private async SayDialogueWithoutSound(dialogue: string): Promise<void> {\n        this.isSaying = true;\n        await this.typeWriter.say(dialogue);\n        this.isSaying = false;\n    }\n\n    private CheckNewCard(sentenceInfo: SentenceDef): void {\n        if (sentenceInfo.NewCardID) {\n            for (let i = 0; i < sentenceInfo.NewCardID.length; i++) {\n                let cardInfo: CardDef = this.cardTable.get(sentenceInfo.NewCardID[i]);\n                this.inventory.AddCard(new Card(cardInfo));\n            }\n            this.inventory.drawInventory();\n        }\n    }\n\n    private runLogicalExpression(str: string): boolean {\n        if (!str) return true;\n        return new Function(\"return \" + str)();\n    }\n}","import { Card } from \"./Card\";\nimport { verb_color, noun_color } from \"./GlobalSetting\";\nimport { IClickable, Position, Rect, verb } from \"./TypeDefinition\";\nimport { clearRect, drawHollowRect, isInside } from \"./Utility\";\n\nexport class Slot implements IClickable {\n    private readonly rect: Rect;\n    private readonly partOfSpeech: string;\n    private readonly lineWidth = 6;\n    private card: Card;\n\n    constructor(rect: Rect, partOfSpeech: string, card: Card) {\n        this.rect = rect;\n        this.partOfSpeech = partOfSpeech;\n        this.card = card;\n    }\n\n    public CheckIfHit(mousePos: Position): boolean {\n        return isInside(mousePos, this.rect);\n    }\n\n    public CheckIfHitCard(_mousePos: Position): Card {\n        return this.card;\n    }\n\n    public drawSlot(): void {\n        clearRect(this.rect);\n        if (this.partOfSpeech == verb) {\n            drawHollowRect(this.rect, verb_color, this.lineWidth);\n        } else {\n            drawHollowRect(this.rect, noun_color, this.lineWidth);\n        }\n        if (this.card) {\n            this.card.drawCard();\n        }\n    }\n\n    public AddCard(card: Card): void {\n        this.card = card;\n        card.PlaceAt({\n            x: this.rect.x + (this.rect.w - card.GetRect().w) * .5,\n            y: this.rect.y\n        });\n    }\n\n    public IsPartOfSpeechEqual(partOfSpeech: string): boolean {\n        return this.partOfSpeech == partOfSpeech;\n    }\n\n    public RemoveCard(): Card {\n        let card: Card = this.card;\n        this.card = null;\n        return card;\n    }\n\n    public IsCardEqual(card: Card): boolean {\n        return this.card == card;\n    }\n\n    public GetCardID(): number {\n        if (!this.card) return -1;\n        return this.card.GetCardID();\n    }\n\n    public HasCard(): boolean {\n        return this.card != null;\n    }\n}","export interface ILevel {\n    begin(): void;\n    onCanvasClick(mousePos: Position): void;\n}\n\nexport interface IClickable {\n    CheckIfHit(mousePos: Position): boolean;\n}\n\nexport type SentenceKey = {\n    CardID1: number;\n    CardID2: number;\n    CardID3: number;\n}\n\nexport const noun: string = \"名\";\nexport const verb: string = \"動\";\n\nexport type CardDef = {\n    ID: number;\n    Word: string;\n    PartOfSpeech: string;\n};\n\nexport type SentenceDef = {\n    CardID1: number;\n    CardID2: number;\n    CardID3: number;\n    Condition: string;\n    NewCardID: number[];\n    DialogueID: number;\n    Consequence: string;\n}\n\nexport type DialogueDef = {\n    ID: number;\n    Dialogue: string;\n};\n\nexport type FallbackDef = {\n    CardID1: number;\n    CardID2: number;\n    CardID3: number;\n    Condition: string;\n    FallbackDialogueID: number;\n};\n\nexport type HintDef = {\n    HintID: number;\n    Hint: string;\n    Condition: string;\n    NextHintID: number[];\n};\n\nexport type HintValue = {\n    Hint: string;\n    Condition: string;\n    NextHintID: number[];\n}\n\nexport type Rect = {\n    x: number;\n    y: number;\n    w: number;\n    h: number;\n};\n\nexport type Position = {\n    x: number;\n    y: number;\n}","import { dialogue_font, dialogue_color, type_interval, dialogue_font_size } from \"./GlobalSetting\";\nimport { Position, Rect } from \"./TypeDefinition\";\nimport { clearRect, splitString, sleep, drawText } from \"./Utility\";\nimport { ctx } from \"./index\";\n\nexport class TypeWriter {\n    private readonly rect: Rect;\n    private readonly lineInterval: number;\n    // 一行的字數。根據給定的rect寬度計算\n    private readonly lineWordCount: number;\n    // 打字機的文字要置中，所以文字的起始x值要額外計算\n    private readonly startPosition: Position;\n\n    constructor(rect: Rect, lineInterval: number) {\n        this.rect = rect;\n        this.lineInterval = lineInterval;\n        this.lineWordCount = Math.floor(rect.w / dialogue_font_size);\n        this.startPosition = {\n            x: rect.x + (rect.w - this.lineWordCount * dialogue_font_size) * .5,\n            // fillText是以y的上界為底線畫文字。所以畫文字時，y要加一個dialogue_font_size\n            y: rect.y + dialogue_font_size\n        };\n    }\n\n    public async say(text: string): Promise<void> {\n        clearRect(this.rect);\n        let textSplit = splitString(text, this.lineWordCount);\n        for (let i = 0; i < textSplit.length; i++) {\n            let currentText = textSplit[i];\n            for (let j = 1; j <= currentText.length; j++) {\n                ctx.fillStyle = dialogue_color;\n                drawText(currentText.substring(0, j), {\n                    x: this.startPosition.x,\n                    y: this.startPosition.y + (dialogue_font_size + this.lineInterval) * i\n                }, dialogue_color, dialogue_font, dialogue_font_size);\n                await sleep(type_interval);\n            }\n        }\n    }\n}","import { Position, Rect } from \"./TypeDefinition\";\nimport { ctx } from \"./index\";\n\nexport async function sleep(ms: number): Promise<void> {\n    return new Promise(resolve => setTimeout(resolve, ms));\n}\n\nexport function clearRect(rect: Rect): void {\n    ctx.clearRect(rect.x, rect.y, rect.w, rect.h);\n}\n\nexport function drawFilledRect(rect: Rect, color: string): void {\n    ctx.fillStyle = color;\n    ctx.fillRect(rect.x, rect.y, rect.w, rect.h);\n}\n\nexport function drawHollowRect(rect: Rect, color: string, lineWidth: number): void {\n    ctx.beginPath();\n    ctx.rect(rect.x, rect.y, rect.w, rect.h);\n    ctx.lineWidth = lineWidth;\n    ctx.strokeStyle = color;\n    ctx.stroke();\n}\n\nexport function drawText(text: string, startPosition: Position, color: string, font: string, size: number): void {\n    ctx.font = `${size}px ${font}`;\n    ctx.fillStyle = color;\n    ctx.fillText(text, startPosition.x, startPosition.y);\n}\n\nexport function splitString(str: string, N: number): string[] {\n    const arr = [];\n\n    for (let i = 0; i < str.length; i += N) {\n        arr.push(str.substring(i, i + N));\n    }\n\n    return arr;\n}\n\nexport function getMousePos(canvas: HTMLCanvasElement, event: MouseEvent): Position {\n    var rect = canvas.getBoundingClientRect();\n    return {\n        x: event.clientX - rect.left,\n        y: event.clientY - rect.top,\n    };\n}\n\nexport function isInside(pos: Position, rect: Rect): boolean {\n    return pos.x > rect.x && pos.x < rect.x + rect.w &&\n        pos.y < rect.y + rect.h && pos.y > rect.y;\n}\n","import { referenceScreenHeight, referenceScreenWidth } from \"./GlobalSetting\";\nimport { Level1 } from \"./Level1/Level1\";\nimport { ILevel, Position } from \"./TypeDefinition\";\nimport { getMousePos } from \"./Utility\";\n\nlet canvas: HTMLCanvasElement = document.getElementById(\"mainCanvas\") as HTMLCanvasElement;\nexport let ctx: CanvasRenderingContext2D = canvas.getContext(\"2d\");\n\ncanvas.width = referenceScreenWidth;\ncanvas.height = referenceScreenHeight;\nctx.strokeStyle = 'white';\nctx.lineWidth = 1;\nctx.strokeRect(0, 0, referenceScreenWidth, referenceScreenHeight);\n\nlet level: ILevel = new Level1();\n\ncanvas.addEventListener('click', (evt: MouseEvent) => {\n  let mousePos: Position = getMousePos(canvas, evt);\n  level.onCanvasClick(mousePos);\n});\n\nlevel.begin();","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/index.ts\");\n",""],"names":[],"sourceRoot":""}