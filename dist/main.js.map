{"version":3,"file":"main.js","mappings":"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","sources":["webpack:///./src/GlobalSetting.ts","webpack:///./src/Inventory.ts","webpack:///./src/Level1/Level1.ts","webpack:///./src/Slot.ts","webpack:///./src/TypeDefinition.ts","webpack:///./src/TypeWriter.ts","webpack:///./src/Utility.ts","webpack:///./src/index.ts","webpack:///webpack/bootstrap","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///webpack/before-startup","webpack:///webpack/startup","webpack:///webpack/after-startup"],"sourcesContent":["// 名詞顏色\nexport const noun_color = \"#FC9B45\";\n// 動詞顏色\nexport const verb_color = \"#51A6FF\";\n// 對話框的文字顏色\nexport const dialogue_color = \"#FFFFFF\";\n// 卡片欄的背景\nexport const inventory_background_color = \"#BEBEBE\";\n// 詞卡的寬度單位。詞卡有n個字，則詞卡寬度為n * card_width_unit\nexport const card_width_unit = 50;\n// 詞卡的高度\nexport const card_height = 50;\n// 對話框的文字大小\nexport const dialogue_font_size = 30;\n// 對話框的文字字體\nexport const dialogue_font = `${dialogue_font_size}px Arial`;\n// 對話框的打字間隔，單位是ms\nexport const type_interval = 20;\n// 對話框的寬度，單位是字數\nexport const dialogue_width = 20;\nexport const referenceScreenWidth: number = 800;\nexport const referenceScreenHeight: number = 600;","import { card_height, card_width_unit, inventory_background_color } from \"./GlobalSetting\";\nimport { Card, CardDef, Position, Rect } from \"./TypeDefinition\";\nimport { clearRect, drawCardFromTopLeft, drawFilledRect } from \"./Utility\";\n\nexport class Inventory {\n    public cardArray: Card[] = [];\n\n    private readonly originTail: Position = {x:110, y: 350};\n    private currentTail: Position;\n    private readonly rect: Rect = {\n        x: 100,\n        y: 340,\n        w: 600,\n        h: 220\n    };\n\n    constructor(){\n        this.currentTail = {\n            x: this.originTail.x,\n            y: this.originTail.y\n        };\n    }\n\n    public drawInventory(): void {\n        clearRect(this.rect);\n        drawFilledRect(this.rect, inventory_background_color)\n        for (let i = 0; i < this.cardArray.length; i++) {\n            if (this.cardArray[i].isSelected) continue;\n            drawCardFromTopLeft(this.cardArray[i]);\n        }\n    }\n\n    public addCard(cardInfo: CardDef): void {\n        let cardWidth = card_width_unit * cardInfo.Word.length;\n        let nextTailX = this.currentTail.x + 10 + cardWidth;\n        if (nextTailX > 700) {\n            this.currentTail.y += 10 + card_height;\n            this.currentTail.x = this.originTail.x;\n        }\n        this.cardArray.push({\n            rect: {\n                x: this.currentTail.x,\n                y: this.currentTail.y,\n                w: cardWidth,\n                h: card_height,\n            },\n            inventoryX: this.currentTail.x,\n            inventoryY: this.currentTail.y,\n            cardInfo: cardInfo,\n            isSelected: false\n        });\n        this.currentTail.x += cardWidth + 10;\n    }\n}","import { Inventory } from \"../Inventory\";\nimport { TypeWriter } from \"../TypeWriter\";\nimport { CardDef, DialogueDef, FallbackDef, ILevel, Position, SentenceDef, noun, verb } from \"../TypeDefinition\";\nimport { isInside } from \"../Utility\";\nimport { Slot } from \"../Slot\";\nimport cardTableJson from './CardTable.json';\nimport dialogueTableJson from './DialogueTable.json';\nimport sentenceTableJson from './SentenceTable.json';\nimport fallbackTableJson from './FallbackTable.json';\nimport stateInitTableJson from './StateInitTable.json';\n\nexport class Level1 implements ILevel {\n    private readonly inventory: Inventory;\n    private readonly slotArray: Slot[];\n    private readonly typeWriter: TypeWriter;\n    private readonly cardTable = new Map<number, CardDef>();\n    private readonly sentenceTable: SentenceDef[];\n    private readonly fallbackTable: FallbackDef[];\n    private readonly dialogueTable = new Map<number, string>();\n    private readonly stateInitTable: { [k: string]: any }[];\n    private isSaying: boolean = false;\n    private isTheEnd: boolean = false;\n    private isMusicPlay: boolean = false;\n    private musicAudio = new Audio('audio/Depth in Ruins.wav');\n    private keybaordAudio = new Audio('audio/keyboard3.wav');\n    private goodEndingAudio = new Audio('audio/applause.wav');\n    private badEndingAudio = new Audio('audio/ending_bass.wav');\n    private pickupAudioArray: any[];\n    private putbackAudioArray: any[];\n\n    constructor() {\n        this.inventory = new Inventory();\n        this.slotArray = [\n            new Slot({ x: 145, y: 270, w: 150, h: 50, }, noun, null),\n            new Slot({ x: 325, y: 270, w: 150, h: 50 }, verb, null),\n            new Slot({ x: 505, y: 270, w: 150, h: 50 }, noun, null)\n        ];\n        this.typeWriter = new TypeWriter({ x: 100, y: 70, w: 600, h: 190 });\n\n        let cardTableRaw: CardDef[] = cardTableJson as CardDef[];\n\n        cardTableRaw.forEach(card => {\n            this.cardTable.set(card.ID, card);\n        });\n\n        this.sentenceTable = sentenceTableJson as SentenceDef[];\n        this.fallbackTable = fallbackTableJson as FallbackDef[];\n\n        let dialogueTableRaw: DialogueDef[] = dialogueTableJson as DialogueDef[];\n        dialogueTableRaw.forEach(dialogue => {\n            this.dialogueTable.set(dialogue.ID, dialogue.Dialogue);\n        });\n\n        this.stateInitTable = stateInitTableJson as { [k: string]: any }[];\n\n        for (let i = 0; i < this.stateInitTable.length; i++) {\n            new Function(this.stateInitTable[i][\"StateName\"] + \"=\" +\n                this.stateInitTable[i][\"StateInit\"])();\n        }\n\n        this.pickupAudioArray = [\n            new Audio('audio/pick up.wav'),\n            new Audio('audio/pick up.wav'),\n            new Audio('audio/pick up.wav')\n        ];\n\n        this.putbackAudioArray = [\n            new Audio('audio/put back.wav'),\n            new Audio('audio/put back.wav'),\n            new Audio('audio/put back.wav')\n        ];\n\n        this.musicAudio.loop = true;\n        this.keybaordAudio.loop = true;\n    }\n\n    public begin(): void {\n        this.entrySequence();\n    }\n\n    private async entrySequence(): Promise<void> {\n        for (let i = 0; i < this.slotArray.length; i++) {\n            this.slotArray[i].drawSlot();\n        }\n        this.inventory.drawInventory();\n        await this.typeWriter.say(this.dialogueTable.get(0));\n        this.inventory.addCard(this.cardTable.get(2));\n        this.inventory.addCard(this.cardTable.get(0));\n        this.inventory.addCard(this.cardTable.get(1));\n        this.inventory.drawInventory();\n    }\n\n    public onCanvasClick(mousePos: Position): void {\n        // 遊戲結束時阻擋點擊。\n        if (this.isTheEnd) return;\n        // 說話時不接受點擊。\n        if (this.isSaying) return;\n\n        // 檢查是否有播放BGM\n        if (!this.isMusicPlay) {\n            this.musicAudio.play();\n            this.isMusicPlay = true;\n        }\n\n        this.inventory.cardArray.forEach(card => {\n            if (!isInside(mousePos, card.rect)) return;\n            // 如果點選到的詞卡已經輸入，則把詞卡放回inventory。\n            if (card.isSelected) {\n                card.rect.x = card.inventoryX;\n                card.rect.y = card.inventoryY;\n                card.isSelected = false;\n                for (let i = 0; i < this.slotArray.length; i++) {\n                    if (this.slotArray[i].IsCardEqual(card)) {\n                        this.slotArray[i].RemoveCard();\n                        this.slotArray[i].drawSlot();\n                        this.inventory.drawInventory();\n                        this.pickupAudioArray[i].play();\n                        break;\n                    }\n                }\n                return;\n            }\n\n            // 如果輸入框已經滿了。就不再檢查造句。\n            if (this.isSlotFull()) return;\n\n            // 如果點選到的詞卡還沒有輸入，尋找一個空的slot輸入。\n            for (let i = 0; i < this.slotArray.length; i++) {\n                let slot = this.slotArray[i];\n                if (slot.partOfSpeech == card.cardInfo.PartOfSpeech) {\n                    if (slot.IsCardEqual(null)) {\n                        slot.InsertCard(card);\n                        slot.drawSlot();\n                        this.inventory.drawInventory();\n                        this.putbackAudioArray[i].play();\n                        break;\n                    }\n                }\n            }\n\n            if (!this.isSlotFull()) return;\n            // 如果三個輸入框都滿了。檢查造句。\n            // 先檢查是否滿足fallback條件\n            for (let i = 0; i < this.fallbackTable.length; i++) {\n                let fallback: FallbackDef = this.fallbackTable[i];\n                if (!this.isFallbackMatch(fallback)) continue;\n                if (!this.runLogicalExpression(fallback.Condition)) continue;\n\n                this.SayDialogue(fallback.FallbackDialogueID);\n                return;\n            }\n\n            for (let i = 0; i < this.sentenceTable.length; i++) {\n                let sentence: SentenceDef = this.sentenceTable[i];\n                if (!this.isSentenceMatch(sentence)) continue;\n                if (!this.runLogicalExpression(sentence.Condition)) continue;\n\n                this.SayDialogue(sentence.DialogueID).then(() => {\n                    this.CheckNewCard(sentence);\n                    if (sentence.Consequence) {\n                        Function(`\"use strict\";${sentence.Consequence}`)();\n                        // 檢查是否已經遊戲結束。\n                        if (Function(\"return EndState != null\")()) {\n                            this.isTheEnd = true;\n                            if (Function(\"return EndState == 'Good'\")()) {\n                                this.goodEndingAudio.play();\n                            } else if (Function(\"return EndState == 'Bad'\")()) {\n                                this.badEndingAudio.play();\n                            }\n                        }\n                    }\n                });\n                break;\n            }\n        });\n    }\n\n    private isSlotFull(): boolean {\n        return this.slotArray[0].HasCard() &&\n            this.slotArray[1].HasCard() &&\n            this.slotArray[2].HasCard();\n    }\n\n    private isSentenceMatch(sentence: { CardID1: number, CardID2: number, CardID3: number }): boolean {\n        return sentence.CardID1 == this.slotArray[0].GetCardID() &&\n            sentence.CardID2 == this.slotArray[1].GetCardID() &&\n            sentence.CardID3 == this.slotArray[2].GetCardID();\n    }\n\n    private isFallbackMatch(sentence: { CardID1: number, CardID2: number, CardID3: number }): boolean {\n        return (!sentence.CardID1 || sentence.CardID1 == this.slotArray[0].GetCardID()) &&\n            (!sentence.CardID2 || sentence.CardID2 == this.slotArray[1].GetCardID()) &&\n            (!sentence.CardID3 || sentence.CardID3 == this.slotArray[2].GetCardID());\n    }\n\n    private async SayDialogue(dialogueID: number): Promise<void> {\n        this.isSaying = true;\n        this.keybaordAudio.play();\n        await this.typeWriter.say(this.dialogueTable.get(dialogueID));\n        this.keybaordAudio.pause();\n        this.isSaying = false;\n    }\n\n    private CheckNewCard(sentenceInfo: SentenceDef): void {\n        if (sentenceInfo.NewCardID) {\n            for (let i = 0; i < sentenceInfo.NewCardID.length; i++) {\n                this.inventory.addCard(this.cardTable.get(sentenceInfo.NewCardID[i]));\n            }\n            this.inventory.drawInventory();\n        }\n    }\n\n    private runLogicalExpression(str: string): boolean {\n        if (!str) return true;\n        return new Function(\"return \" + str)();\n    }\n}","import { verb_color, noun_color } from \"./GlobalSetting\";\nimport { Card, Rect, verb } from \"./TypeDefinition\";\nimport { clearRect, drawCardFromCenter, drawHollowRect } from \"./Utility\";\n\nexport class Slot {\n    public rect: Rect;\n    public partOfSpeech: string;\n    private card: Card;\n    private readonly lineWidth = 6;\n\n    constructor(rect: Rect, partOfSpeech: string, card: Card) {\n        this.rect = rect;\n        this.partOfSpeech = partOfSpeech;\n        this.card = card;\n    }\n\n    public drawSlot(): void {\n        clearRect(this.rect);\n        if (this.partOfSpeech == verb) {\n            drawHollowRect(this.rect, verb_color, this.lineWidth);\n        } else {\n            drawHollowRect(this.rect, noun_color, this.lineWidth);\n        }\n        if (this.card) {\n            drawCardFromCenter(this.card, this.rect.x + this.rect.w * .5, this.rect.y + this.rect.h * .5);\n        }\n    }\n\n    public InsertCard(card: Card): void {\n        this.card = card;\n        card.isSelected = true;\n        card.rect.x = this.rect.x + (this.rect.w - card.rect.w) * .5;\n        card.rect.y = this.rect.y;\n    }\n\n    public RemoveCard(): void {\n        this.card = null;\n    }\n\n    public IsCardEqual(card: Card): boolean {\n        return this.card == card;\n    }\n\n    public GetCardID(): number {\n        if (!this.card) return -1;\n        return this.card.cardInfo.ID;\n    }\n\n    public HasCard(): boolean {\n        return this.card != null;\n    }\n}","export interface ILevel {\n    begin(): void;\n    onCanvasClick(mousePos: Position): void;\n}\n\nexport type SentenceKey = {\n    CardID1: number;\n    CardID2: number;\n    CardID3: number;\n}\n\nexport const noun: string = \"名\";\nexport const verb: string = \"動\";\n\nexport type CardDef = {\n    ID: number;\n    Word: string;\n    PartOfSpeech: string;\n};\n\nexport type SentenceDef = {\n    CardID1: number;\n    CardID2: number;\n    CardID3: number;\n    Condition: string;\n    NewCardID: number[];\n    DialogueID: number;\n    Consequence: string;\n}\n\nexport type DialogueDef = {\n    ID: number;\n    Dialogue: string;\n};\n\nexport type FallbackDef = {\n    CardID1: number;\n    CardID2: number;\n    CardID3: number;\n    Condition: string;\n    FallbackDialogueID: number;\n};\n\nexport type Card = {\n    rect: Rect;\n    inventoryX: number;\n    inventoryY: number;\n    cardInfo: CardDef;\n    isSelected: boolean;\n}\n\nexport type Rect = {\n    x: number;\n    y: number;\n    w: number;\n    h: number;\n};\n\nexport type Position = {\n    x: number;\n    y: number;\n}","import { dialogue_font, dialogue_width, dialogue_color, type_interval, dialogue_font_size } from \"./GlobalSetting\";\nimport { Rect } from \"./TypeDefinition\";\nimport { clearRect, splitString, sleep } from \"./Utility\";\nimport { ctx } from \"./index\";\n\nexport class TypeWriter {\n    private rect: Rect;\n    private readonly verticalInterval: number = 5;\n\n    constructor(rect: Rect) {\n        this.rect = rect;\n    }\n\n    public async say(text: string): Promise<void> {\n        clearRect(this.rect);\n        ctx.font = dialogue_font;\n        let textSplit = splitString(text, dialogue_width);\n        for (let i = 0; i < textSplit.length; i++) {\n            let currentText = textSplit[i];\n            for (let j = 1; j <= currentText.length; j++) {\n                ctx.fillStyle = dialogue_color;\n                ctx.fillText(currentText.substring(0, j), this.rect.x,\n                    // fillText是以y的上界為底線畫文字。所以畫文字時，y要加一個dialogue_font_size\n                    this.rect.y + dialogue_font_size + (dialogue_font_size + this.verticalInterval) * i);\n                await sleep(type_interval);\n            }\n        }\n    }\n}","import { card_height, card_width_unit, dialogue_color, dialogue_font_size, noun_color, verb_color } from \"./GlobalSetting\";\nimport { Card, Position, Rect, verb } from \"./TypeDefinition\";\nimport { ctx } from \"./index\";\n\nexport async function sleep(ms: number): Promise<void> {\n    return new Promise(resolve => setTimeout(resolve, ms));\n}\n\nexport function clearRect(rect: Rect): void {\n    ctx.clearRect(rect.x, rect.y, rect.w, rect.h);\n}\n\nexport function drawCardFromTopLeft(card: Card): void {\n    if (card.cardInfo.PartOfSpeech == verb) {\n        ctx.fillStyle = verb_color;\n    } else {\n        ctx.fillStyle = noun_color;\n    }\n    let cardWidth = card_width_unit * card.cardInfo.Word.length;\n    ctx.fillRect(card.rect.x, card.rect.y, cardWidth, card_height);\n    ctx.fillStyle = dialogue_color;\n    ctx.fillText(card.cardInfo.Word, card.rect.x + (cardWidth - dialogue_font_size * card.cardInfo.Word.length) * .5, card.rect.y + 35);\n}\n\nexport function drawCardFromCenter(card: Card, centerX: number, centerY: number): void {\n    if (card.cardInfo.PartOfSpeech == verb) {\n        ctx.fillStyle = verb_color;\n    } else {\n        ctx.fillStyle = noun_color;\n    }\n    let cardWidth = 50 * card.cardInfo.Word.length;\n    let x = centerX - cardWidth * .5;\n    let y = centerY - card_height * .5;\n    ctx.fillRect(x, y, cardWidth, card_height);\n    ctx.fillStyle = dialogue_color;\n    ctx.fillText(card.cardInfo.Word, x + (cardWidth - dialogue_font_size * card.cardInfo.Word.length) * .5, y + 35);\n}\n\nexport function drawFilledRect(rect: Rect, color: string): void {\n    ctx.fillStyle = color;\n    ctx.fillRect(rect.x, rect.y, rect.w, rect.h);\n}\n\nexport function drawHollowRect(rect: Rect, color: string, lineWidth: number): void {\n    ctx.beginPath();\n    ctx.rect(rect.x, rect.y, rect.w, rect.h);\n    ctx.lineWidth = lineWidth;\n    ctx.strokeStyle = color;\n    ctx.stroke();\n}\n\nexport function splitString(str: string, N: number): string[] {\n    const arr = [];\n\n    for (let i = 0; i < str.length; i += N) {\n        arr.push(str.substring(i, i + N));\n    }\n\n    return arr;\n}\n\nexport function getMousePos(canvas: HTMLCanvasElement, event: MouseEvent): Position {\n    var rect = canvas.getBoundingClientRect();\n    return {\n        x: event.clientX - rect.left,\n        y: event.clientY - rect.top,\n    };\n}\n\nexport function isInside(pos: Position, rect: Rect): boolean {\n    return pos.x > rect.x && pos.x < rect.x + rect.w &&\n        pos.y < rect.y + rect.h && pos.y > rect.y;\n}\n","import { referenceScreenHeight, referenceScreenWidth } from \"./GlobalSetting\";\nimport { Level1 } from \"./Level1/Level1\";\nimport { ILevel, Position } from \"./TypeDefinition\";\nimport { getMousePos } from \"./Utility\";\n\nlet canvas: HTMLCanvasElement = document.getElementById(\"mainCanvas\") as HTMLCanvasElement;\nexport let ctx: CanvasRenderingContext2D = canvas.getContext(\"2d\");\n\ncanvas.width = referenceScreenWidth;\ncanvas.height = referenceScreenHeight;\nctx.strokeStyle = 'white';\nctx.lineWidth = 1;\nctx.strokeRect(0, 0, referenceScreenWidth, referenceScreenHeight);\n\nlet level: ILevel = new Level1();\n\ncanvas.addEventListener('click', (evt: MouseEvent) => {\n  let mousePos: Position = getMousePos(canvas, evt);\n  level.onCanvasClick(mousePos);\n});\n\nlevel.begin();","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/index.ts\");\n",""],"names":[],"sourceRoot":""}